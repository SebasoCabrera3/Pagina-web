{% extends 'base.html' %}

{% block content %}
    <h1>Añadir Nueva Tarea al Proyecto: {{ project.name }}</h1>

    <form method="POST" action="">
        {{ form.hidden_tag() }} {# Token CSRF #}
        <div class="form-group">
            {{ form.title.label }}<br>
            {{ form.title(class="form-control") }}
            {% if form.title.errors %}
                <ul class="errors">
                    {% for error in form.title.errors %}
                        <li>{{ error }}</li>
                    {% endfor %}
                </ul>
            {% endif %}
        </div>
        <div class="form-group">
            {{ form.description.label }}<br>
            {{ form.description(class="form-control", rows=5) }}
            {% if form.description.errors %}
                <ul class="errors">
                    {% for error in form.description.errors %}
                        <li>{{ error }}</li>
                    {% endfor %}
                </ul>
            {% endif %}
        </div>
        <div class="form-group">
            {{ form.status.label }}<br>
            {{ form.status(class="form-control") }}
            {% if form.status.errors %}
                <ul class="errors">
                    {% for error in form.status.errors %}
                        <li>{{ error }}</li>
                    {% endfor %}
                </ul>
            {% endif %}
        </div>
        <div class="form-group">
            {{ form.due_date.label }}<br>
            {{ form.due_date(class="form-control") }}
            {% if form.due_date.errors %}
                <ul class="errors">
                    {% for error in form.due_date.errors %}
                        <li>{{ error }}</li>
                    {% endfor %}
                </ul>
            {% endif %}
        </div>
        {# Si tienes un campo de asignación, agrégalo aquí #}
        {#
        <div class="form-group">
            {{ form.assigned_to.label }}<br>
            {{ form.assigned_to(class="form-control") }}
            {% if form.assigned_to.errors %}
                <ul class="errors">
                    {% for error in form.assigned_to.errors %}
                        <li>{{ error }}</li>
                    {% endfor %}
                </ul>
            {% endif %}
        </div>
        #}
        <div class="form-group">
            {{ form.submit(class="button btn-primary") }}
        </div>
    </form>

    <p><a href="{{ url_for('view_project', project_id=project.id) }}">Volver a Detalles del Proyecto</a></p>

{% endblock %}